# Door manager 使い方  
## オートロックする  
1. カードをかざします
1. 鍵がアンロックされます
	* 桃色に点灯します
1. ドアを開けて中に入ります
	* 黄色に点滅します
1. ドアを閉めます(確実に閉まることを確認してください)
	* 桃色に点滅します
1. 一定時間後に鍵がロックされます
	* 空色に点灯します

## オートロックしない  
### 中から操作
1. 施錠
  	* 青色の"L"と書かれた LOCK ボタンを押します
	* 施錠されLEDは青色に点灯します

1. 解鍵
	* 赤色の"U"と書かれた UNLOCK ボタンを押します
	* 解鍵されLEDは赤色に点灯します
* ボタンによる操作はカードによる施錠解鍵より優先されいつでも使用できます

### 外から操作  
1. 物理キーを使ってロックもしくはアンロックします
	* 通常より大きな力で鍵を回してください

## 異常が生じた際
異常が確認されたら機器の設置者に連絡してください  

### 室内から外に出る場合  
* モータマウントを外します
	1. モータマウントはダンボールでできています
	1. ドアと直角になるように、手前にまっすぐ引き抜きます
	1. ケーブルが正しく外れたことを確認します
	1. 手動で鍵のつまみを回して解鍵してください
	1. モータマウントは大切に保管し機器の設置者に連絡してください

### 外から室内に入る場合  
* LEDが点灯していない時
	* 物理キーを使ってロックもしくはアンロックします
* LEDが点灯しているがカードに反応がない
	* 登録されたカードを財布等から出してを直接かざしてください
	* もしくは、物理キーを使ってロックもしくはアンロックします

## インジケータ  
### 点灯
1. 空色の点灯
	* ユーザの操作を待っています
1. 桃色の点灯
	* ユーザがドアを開けるのを待っています
1. 青色の点灯
	* LOCK ボタンが押されました
1. 赤色の点灯
	* UNLOCK ボタンが押されました
1. 白色の点灯
	* プログラム起動中です
	* 問題が発生しプログラムが終了しても15秒でプログラムは再起動します

### 点滅
1. 桃色の点滅
	* オートロックでロックするまでの猶予時間です
1. 黄色の点滅
	* ドアが開いています
1. 赤色の点滅
	* 技術的なエラーです
1. 赤色の高速な点滅
	* 未登録のカードです
1. 青色の不規則な点滅
	* 機器が起動中です
	* 機器の起動時間は60秒です
1. 消灯
	* 機器が起動中もしくは停止しています
	* 電源が入っていることを確認してください

## 機器情報  
### Parts  
* RaspberryPi   Rv.2
* Servo         ZS-F135
* Button        TVGP01-G73BB
* LED           OSTA71A1D-A

### PIN  
* gpio22  SERVO_PIN			
* gpio11  READ_SW_PIN 		
* gpio10  UNLOCK_BUTTON_PIN
* gpio09  LOCK_BUTTON_PIN
* gpio02  RED_LED_PIN		
* gpio03  GRE_LED_PIN		
* gpio14  BLU_LED_PIN		
